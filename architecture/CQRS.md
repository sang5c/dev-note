### CQRS (Command Query Responsibility Segregation)

- 명령(Command)과 조회(Query)의 책임(Responsibility)을 분리(Segregation)하는 패턴
    - 명령 - 상태를 변경하는 로직 (Create, Update, Delete)
    - 조회 - 상태를 조회하는 로직 (Read)
- 장점
    - 명령과 조회 각각의 요구사항에 맞게 최적화된 모델을 만들 수 있다. 비즈니스 로직이 복잡할 때 명령과 조회를 별도의 모델로 분리함으로써 복잡도를 낮춘다. 읽기 요청이 많은 경우 읽기 작업에 특화된 구조(캐시, Materialized View 등)를 도입함으로써 트래픽 수용과 확장이 용이하도록 만들 수 있다.
    - CQRS 적용시 명령과 조회에 서로 다른 데이터베이스와 기술을 사용할 수 있다. 예를 들어 명령에는 RDBMS + JPA를, 조회에는 RDBMS + MyBatis 또는 NoSQL 적용이 가능하다.
    - 명령과 조회가 시스템적으로 분리되면 장애 격리가 가능하다.
- 단점
    - 분리에서 오는 복잡도 증가
    - 데이터 저장소가 분리되면 강한 일관성(Strong consistency)를 포기해야할 수 있다. 변경 후 조회시 딜레이가 생길 수 있다.
- CQRS 적용이 항상 데이터 저장소 분리를 의미하지 않는다. 코드 구조만 CQRS를 시도하는 방법도 있다. 요구사항과 목표가 우선적으로 고려되어야 하며 트레이드오프를 잘 따져서 필요한 만큼의 패턴 적용이 필요하다.
